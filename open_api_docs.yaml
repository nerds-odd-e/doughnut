openapi: 3.1.0
info:
  title: OpenAPI definition
  version: v0
servers:
- url: ""
paths:
  /api/user:
    get:
      tags:
      - user-controller
      operationId: getUserProfile
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/User"
    post:
      tags:
      - user-controller
      operationId: createUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/User"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/User"
  /api/user/generate-token:
    post:
      tags:
      - user-controller
      operationId: generateToken
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TokenConfigDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/UserToken"
  /api/testability/use_real_sandbox_github_and_close_all_github_issues:
    post:
      tags:
      - testability-rest-controller
      operationId: closeAllGithubIssues
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/trigger_exception:
    post:
      tags:
      - testability-rest-controller
      operationId: triggerException
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/time_travel_relative_to_now:
    post:
      tags:
      - testability-rest-controller
      operationId: timeTravelRelativeToNow
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TimeTravelRelativeToNow"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: object
  /api/testability/time_travel:
    post:
      tags:
      - testability-rest-controller
      operationId: timeTravel
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TimeTravel"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: object
  /api/testability/testability_update_user:
    post:
      tags:
      - testability-rest-controller
      operationId: testabilityUpdateUser
      parameters:
      - name: username
        in: query
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/share_to_bazaar:
    post:
      tags:
      - testability-rest-controller
      operationId: shareToBazaar
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/replace_service_url:
    post:
      tags:
      - testability-rest-controller
      operationId: replaceServiceUrl
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/testability/randomizer:
    post:
      tags:
      - testability-rest-controller
      operationId: randomizer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Randomization"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: object
  /api/testability/inject_suggested_questions:
    post:
      tags:
      - testability-rest-controller
      operationId: injectSuggestedQuestion
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SuggestedQuestionsData"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/inject_notes:
    post:
      tags:
      - testability-rest-controller
      operationId: injectNotes
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NotesTestData"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: object
                additionalProperties:
                  type: integer
                  format: int32
  /api/testability/inject_circle:
    post:
      tags:
      - testability-rest-controller
      operationId: injectCircle
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/inject-predefined-questions:
    post:
      tags:
      - testability-rest-controller
      operationId: injectPredefinedQuestion
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PredefinedQuestionsTestData"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PredefinedQuestion"
  /api/testability/feature_toggle:
    get:
      tags:
      - testability-rest-controller
      operationId: getFeatureToggle
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: boolean
    post:
      tags:
      - testability-rest-controller
      operationId: enableFeatureToggle
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: object
  /api/testability/create_relationships:
    post:
      tags:
      - testability-rest-controller
      operationId: createRelationships
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/testability/clean_db_and_reset_testability_settings:
    post:
      tags:
      - testability-rest-controller
      operationId: resetDBAndTestabilitySettings
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/subscriptions/{subscription}:
    post:
      tags:
      - subscription-controller
      operationId: updateSubscription
      parameters:
      - name: subscription
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubscriptionDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Subscription"
  /api/subscriptions/{subscription}/delete:
    post:
      tags:
      - subscription-controller
      operationId: destroySubscription
      parameters:
      - name: subscription
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: integer
                  format: int32
  /api/subscriptions/notebooks/{notebook}/subscribe:
    post:
      tags:
      - subscription-controller
      operationId: createSubscription
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SubscriptionDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Subscription"
  /api/settings/current-model-version:
    get:
      tags:
      - global-settings-controller
      operationId: getCurrentModelVersions
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/GlobalAiModelSettings"
    post:
      tags:
      - global-settings-controller
      operationId: setCurrentModelVersions
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GlobalAiModelSettings"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/GlobalAiModelSettings"
  /api/relations/{relation}:
    post:
      tags:
      - relation-controller
      operationId: updateRelationship
      parameters:
      - name: relation
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RelationshipCreation"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteRealm"
  /api/relations/move/{sourceNote}/{targetNote}:
    post:
      tags:
      - relation-controller
      operationId: moveNote
      parameters:
      - name: sourceNote
        in: path
        required: true
        schema:
          type: integer
      - name: targetNote
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteMoveDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteRealm"
  /api/relations/create/{sourceNote}/{targetNote}:
    post:
      tags:
      - relation-controller
      operationId: addRelationshipFinalize
      parameters:
      - name: sourceNote
        in: path
        required: true
        schema:
          type: integer
      - name: targetNote
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RelationshipCreation"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteRealm"
  /api/recall-prompts/{recallPrompt}/regenerate:
    post:
      tags:
      - recall-prompt-controller
      operationId: regenerate
      parameters:
      - name: recallPrompt
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QuestionContestResult"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/RecallPrompt"
  /api/recall-prompts/{recallPrompt}/contest:
    post:
      tags:
      - recall-prompt-controller
      operationId: contest
      parameters:
      - name: recallPrompt
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/QuestionContestResult"
  /api/recall-prompts/{recallPrompt}/answer:
    post:
      tags:
      - recall-prompt-controller
      operationId: answerQuiz
      parameters:
      - name: recallPrompt
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnswerDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                oneOf:
                - $ref: "#/components/schemas/QuestionResult"
                - $ref: "#/components/schemas/SpellingResult"
  /api/recall-prompts/{recallPrompt}/answer-spelling:
    post:
      tags:
      - recall-prompt-controller
      operationId: answerSpelling
      parameters:
      - name: recallPrompt
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnswerSpellingDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                oneOf:
                - $ref: "#/components/schemas/QuestionResult"
                - $ref: "#/components/schemas/SpellingResult"
  /api/predefined-questions/{predefinedQuestion}/toggle-approval:
    post:
      tags:
      - predefined-question-controller
      operationId: toggleApproval
      parameters:
      - name: predefinedQuestion
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/PredefinedQuestion"
  /api/predefined-questions/{predefinedQuestion}/suggest-fine-tuning:
    post:
      tags:
      - predefined-question-controller
      operationId: suggestQuestionForFineTuning
      parameters:
      - name: predefinedQuestion
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QuestionSuggestionCreationParams"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SuggestedQuestionForFineTuning"
  /api/predefined-questions/{note}/refine-question:
    post:
      tags:
      - predefined-question-controller
      operationId: refineQuestion
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PredefinedQuestion"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/PredefinedQuestion"
  /api/predefined-questions/{note}/note-questions:
    get:
      tags:
      - predefined-question-controller
      operationId: getAllQuestionByNote
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PredefinedQuestion"
    post:
      tags:
      - predefined-question-controller
      operationId: addQuestionManually
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PredefinedQuestion"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/PredefinedQuestion"
  /api/predefined-questions/generate-question-without-save:
    post:
      tags:
      - predefined-question-controller
      operationId: generateQuestionWithoutSave
      parameters:
      - name: note
        in: query
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/PredefinedQuestion"
  /api/notes/{referenceNote}/create-after:
    post:
      tags:
      - note-creation-controller
      operationId: createNoteAfter
      parameters:
      - name: referenceNote
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteCreationDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteCreationResult"
  /api/notes/{parentNote}/create:
    post:
      tags:
      - note-creation-controller
      operationId: createNoteUnderParent
      parameters:
      - name: parentNote
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteCreationDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteCreationResult"
  /api/notes/{note}/updateWikidataId:
    post:
      tags:
      - note-controller
      operationId: updateWikidataId
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WikidataAssociationCreation"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteRealm"
  /api/notes/{note}/semantic-search:
    post:
      tags:
      - search-controller
      operationId: semanticSearchWithin
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchTerm"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteSearchResult"
  /api/notes/{note}/search:
    post:
      tags:
      - search-controller
      operationId: searchForRelationshipTargetWithin
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchTerm"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteSearchResult"
  /api/notes/{note}/review-setting:
    post:
      tags:
      - note-controller
      operationId: updateNoteRecallSetting
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteRecallSetting"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/RedirectToNoteResponse"
  /api/notes/{note}/delete:
    post:
      tags:
      - note-controller
      operationId: deleteNote
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteRealm"
  /api/notes/semantic-search:
    post:
      tags:
      - search-controller
      operationId: semanticSearch
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchTerm"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteSearchResult"
  /api/notes/search:
    post:
      tags:
      - search-controller
      operationId: searchForRelationshipTarget
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchTerm"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteSearchResult"
  /api/notes/move_after/{note}/{targetNote}/{asFirstChild}:
    post:
      tags:
      - note-controller
      operationId: moveAfter
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      - name: targetNote
        in: path
        required: true
        schema:
          type: integer
      - name: asFirstChild
        in: path
        required: true
        schema:
          type: string
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteRealm"
  /api/notebooks/{notebook}:
    get:
      tags:
      - notebook-controller
      operationId: get
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Notebook"
    post:
      tags:
      - notebook-controller
      operationId: updateNotebook
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NotebookSettings"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Notebook"
  /api/notebooks/{notebook}/update-index:
    post:
      tags:
      - notebook-controller
      operationId: updateNotebookIndex
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/notebooks/{notebook}/share:
    post:
      tags:
      - notebook-controller
      operationId: shareNotebook
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Notebook"
  /api/notebooks/{notebook}/reset-index:
    post:
      tags:
      - notebook-controller
      operationId: resetNotebookIndex
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/notebooks/{notebook}/obsidian:
    get:
      tags:
      - notebook-controller
      operationId: downloadNotebookForObsidian
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
                format: byte
    post:
      tags:
      - notebook-controller
      summary: Import Obsidian file
      operationId: importObsidian
      parameters:
      - name: notebook
        in: path
        description: Notebook ID
        required: true
        schema:
          type: integer
          format: int32
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Obsidian zip file to import
              required:
              - file
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/notebooks/create:
    post:
      tags:
      - notebook-controller
      operationId: createNotebook
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteCreationDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/RedirectToNoteResponse"
  /api/notebook_certificate_approvals/{notebookCertificateApproval}/approve:
    post:
      tags:
      - notebook-certificate-approval-controller
      operationId: approve
      parameters:
      - name: notebookCertificateApproval
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NotebookCertificateApproval"
  /api/notebook_certificate_approvals/request-approval/{notebook}:
    post:
      tags:
      - notebook-certificate-approval-controller
      operationId: requestApprovalForNotebook
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NotebookCertificateApproval"
  /api/memory-trackers/{memoryTracker}/remove:
    post:
      tags:
      - memory-tracker-controller
      operationId: removeFromRepeating
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/MemoryTracker"
  /api/memory-trackers/{memoryTracker}/re-enable:
    post:
      tags:
      - memory-tracker-controller
      operationId: reEnable
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/MemoryTracker"
  /api/mcp/notes/create:
    post:
      tags:
      - mcp-note-creation-controller
      operationId: createNoteViaMcp
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/McpNoteAddDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteCreationResult"
  /api/fine-tuning/{suggestedQuestion}/duplicate:
    post:
      tags:
      - fine-tuning-data-controller
      operationId: duplicate
      parameters:
      - name: suggestedQuestion
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SuggestedQuestionForFineTuning"
  /api/fine-tuning/{suggestedQuestion}/delete:
    post:
      tags:
      - fine-tuning-data-controller
      operationId: delete
      parameters:
      - name: suggestedQuestion
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SuggestedQuestionForFineTuning"
  /api/fine-tuning/upload-and-trigger-fine-tuning:
    post:
      tags:
      - fine-tuning-data-controller
      operationId: uploadAndTriggerFineTuning
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/conversation/{conversationId}/send:
    post:
      tags:
      - conversation-message-controller
      operationId: replyToConversation
      parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/ConversationMessage"
  /api/conversation/{conversationId}/ai-reply:
    post:
      tags:
      - conversation-message-controller
      operationId: getAiReply
      parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SseEmitter"
  /api/conversation/recall-prompt/{recallPrompt}:
    post:
      tags:
      - conversation-message-controller
      operationId: startConversationAboutRecallPrompt
      parameters:
      - name: recallPrompt
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Conversation"
  /api/conversation/note/{note}:
    get:
      tags:
      - conversation-message-controller
      operationId: getConversationsAboutNote
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Conversation"
    post:
      tags:
      - conversation-message-controller
      operationId: startConversationAboutNote
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Conversation"
  /api/conversation/assessment-question/{assessmentQuestion}:
    post:
      tags:
      - conversation-message-controller
      operationId: startConversationAboutAssessmentQuestion
      parameters:
      - name: assessmentQuestion
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Conversation"
  /api/circles:
    get:
      tags:
      - circle-controller
      operationId: index
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Circle"
    post:
      tags:
      - circle-controller
      operationId: createCircle
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Circle"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Circle"
  /api/circles/{circle}/notebooks:
    post:
      tags:
      - circle-controller
      operationId: createNotebookInCircle
      parameters:
      - name: circle
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteCreationDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/RedirectToNoteResponse"
  /api/circles/join:
    post:
      tags:
      - circle-controller
      operationId: joinCircle
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CircleJoiningByInvitation"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Circle"
  /api/certificate/{notebook}:
    get:
      tags:
      - certificate-controller
      operationId: getCertificate
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Certificate"
    post:
      tags:
      - certificate-controller
      operationId: claimCertificate
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Certificate"
  /api/bazaar/{bazaarNotebook}/remove:
    post:
      tags:
      - bazaar-controller
      operationId: removeFromBazaar
      parameters:
      - name: bazaarNotebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BazaarNotebook"
  /api/audio/audio-to-text:
    post:
      tags:
      - ai-audio-controller
      operationId: audioToText
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/AudioUploadDTO"
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/TextFromAudioWithCallInfo"
  /api/assimilation:
    post:
      tags:
      - assimilation-controller
      operationId: assimilate
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InitialInfo"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MemoryTracker"
  /api/assessment/{assessmentQuestionInstance}/answer:
    post:
      tags:
      - assessment-controller
      operationId: answerQuestion
      parameters:
      - name: assessmentQuestionInstance
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnswerDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/AssessmentQuestionInstance"
  /api/assessment/{assessmentAttempt}:
    post:
      tags:
      - assessment-controller
      operationId: submitAssessmentResult
      parameters:
      - name: assessmentAttempt
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/AssessmentAttempt"
  /api/assessment/questions/{notebook}:
    post:
      tags:
      - assessment-controller
      operationId: generateAssessmentQuestions
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/AssessmentAttempt"
  /api/ai/suggest-title/{note}:
    post:
      tags:
      - ai-controller
      operationId: suggestTitle
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SuggestedTitleDTO"
  /api/ai/generate-summary/{note}:
    post:
      tags:
      - ai-controller
      operationId: generateSummary
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteSummaryDTO"
  /api/ai/generate-image:
    post:
      tags:
      - ai-controller
      operationId: generateImage
      requestBody:
        content:
          application/json:
            schema:
              type: string
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/AiGeneratedImage"
  /api/user/{user}:
    patch:
      tags:
      - user-controller
      operationId: updateUser
      parameters:
      - name: user
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/User"
  /api/text_content/{note}/title:
    patch:
      tags:
      - text-content-controller
      operationId: updateNoteTitle
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteUpdateTitleDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteRealm"
  /api/text_content/{note}/details:
    patch:
      tags:
      - text-content-controller
      operationId: updateNoteDetails
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NoteUpdateDetailsDTO"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteRealm"
  /api/notes/{note}:
    get:
      tags:
      - note-controller
      operationId: showNote
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteRealm"
    patch:
      tags:
      - note-controller
      operationId: updateNoteAccessories
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/NoteAccessoriesDTO"
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteAccessory"
  /api/notes/{note}/undo-delete:
    patch:
      tags:
      - note-controller
      operationId: undoDeleteNote
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteRealm"
  /api/notes/{note}/note-type:
    patch:
      tags:
      - note-controller
      operationId: updateNoteType
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: string
              enum:
              - concept
              - category
              - vocab
              - journal
              - unassigned
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteRealm"
  /api/notebooks/{notebook}/move-to-circle/{circle}:
    patch:
      tags:
      - notebook-controller
      operationId: moveToCircle
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      - name: circle
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Notebook"
  /api/notebooks/{notebook}/ai-assistant:
    get:
      tags:
      - notebook-controller
      operationId: getAiAssistant
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NotebookAiAssistant"
    patch:
      tags:
      - notebook-controller
      operationId: updateAiAssistant
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateAiAssistantRequest"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NotebookAiAssistant"
  /api/memory-trackers/{memoryTracker}/mark-as-repeated:
    patch:
      tags:
      - memory-tracker-controller
      operationId: markAsRepeated
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      - name: successful
        in: query
        required: true
        schema:
          type: boolean
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/MemoryTracker"
  /api/fine-tuning/{suggestedQuestion}/update-suggested-question-for-fine-tuning:
    patch:
      tags:
      - fine-tuning-data-controller
      operationId: updateSuggestedQuestionForFineTuning
      parameters:
      - name: suggestedQuestion
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QuestionSuggestionParams"
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/SuggestedQuestionForFineTuning"
  /api/conversation/{conversationId}/read:
    patch:
      tags:
      - conversation-message-controller
      operationId: markConversationAsRead
      parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ConversationMessage"
  /api/wikidata/search:
    get:
      tags:
      - wikidata-controller
      operationId: searchWikidata
      parameters:
      - name: search
        in: query
        required: true
        schema:
          type: string
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WikidataSearchEntity"
  /api/wikidata/entity-data/{wikidataId}:
    get:
      tags:
      - wikidata-controller
      operationId: fetchWikidataEntityDataByID
      parameters:
      - name: wikidataId
        in: path
        required: true
        schema:
          type: string
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/WikidataEntityData"
  /api/user/menu-data:
    get:
      tags:
      - user-controller
      operationId: getMenuData
      parameters:
      - name: timezone
        in: query
        required: true
        schema:
          type: string
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/MenuDataDTO"
  /api/user/get-tokens:
    get:
      tags:
      - user-controller
      operationId: getTokens
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserToken"
  /api/user/current-user-info:
    get:
      tags:
      - current-user-info-controller
      operationId: currentUserInfo
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CurrentUserInfo"
  /api/testability/github_issues:
    get:
      tags:
      - testability-rest-controller
      operationId: githubIssues
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: object
                  additionalProperties:
                    type: object
  /api/recalls/recalling:
    get:
      tags:
      - recalls-controller
      operationId: recalling
      parameters:
      - name: timezone
        in: query
        required: true
        schema:
          type: string
      - name: dueindays
        in: query
        required: false
        schema:
          type: integer
          format: int32
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/DueMemoryTrackers"
  /api/recalls/previously-answered:
    get:
      tags:
      - recalls-controller
      operationId: previouslyAnswered
      parameters:
      - name: timezone
        in: query
        required: true
        schema:
          type: string
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  oneOf:
                  - $ref: "#/components/schemas/QuestionResult"
                  - $ref: "#/components/schemas/SpellingResult"
  /api/predefined-questions/{note}/export-question-generation:
    get:
      tags:
      - predefined-question-controller
      operationId: exportQuestionGeneration
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: object
  /api/notes/{note}/note-info:
    get:
      tags:
      - note-controller
      operationId: getNoteInfo
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteInfo"
  /api/notes/{note}/graph:
    get:
      tags:
      - note-controller
      operationId: getGraph
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      - name: tokenLimit
        in: query
        required: true
        schema:
          type: integer
          format: int32
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/GraphRAGResult"
  /api/notes/{note}/descendants:
    get:
      tags:
      - note-controller
      operationId: getDescendants
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/GraphRAGResult"
  /api/notes/{note}/accessory:
    get:
      tags:
      - note-controller
      operationId: showNoteAccessory
      parameters:
      - name: note
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NoteAccessory"
  /api/notes/recent:
    get:
      tags:
      - note-controller
      operationId: getRecentNotes
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoteSearchResult"
  /api/notebooks:
    get:
      tags:
      - notebook-controller
      operationId: myNotebooks
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NotebooksViewedByUser"
  /api/notebook_certificate_approvals/get-all-pending-request:
    get:
      tags:
      - notebook-certificate-approval-controller
      operationId: getAllPendingRequest
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NotebookCertificateApproval"
  /api/notebook_certificate_approvals/for-notebook/{notebook}:
    get:
      tags:
      - notebook-certificate-approval-controller
      operationId: getApprovalForNotebook
      parameters:
      - name: notebook
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/NotebookCertificateApprovalDTO"
  /api/memory-trackers/{memoryTracker}:
    get:
      tags:
      - memory-tracker-controller
      operationId: showMemoryTracker
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/MemoryTracker"
  /api/memory-trackers/{memoryTracker}/recall-prompts:
    get:
      tags:
      - memory-tracker-controller
      operationId: getRecallPrompts
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RecallPrompt"
  /api/memory-trackers/{memoryTracker}/question:
    get:
      tags:
      - memory-tracker-controller
      operationId: askAQuestion
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/RecallPrompt"
  /api/memory-trackers/recently-reviewed:
    get:
      tags:
      - memory-tracker-controller
      operationId: getRecentlyReviewed
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MemoryTracker"
  /api/memory-trackers/recent:
    get:
      tags:
      - memory-tracker-controller
      operationId: getRecentMemoryTrackers
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MemoryTracker"
  /api/healthcheck:
    get:
      tags:
      - health-check-controller
      operationId: ping
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: string
  /api/fine-tuning/all-suggested-questions-for-fine-tuning:
    get:
      tags:
      - fine-tuning-data-controller
      operationId: getAllSuggestedQuestions
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SuggestedQuestionForFineTuning"
  /api/failure-reports:
    get:
      tags:
      - failure-report-controller
      operationId: failureReports
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: object
  /api/failure-reports/{failureReport}:
    get:
      tags:
      - failure-report-controller
      operationId: showFailureReport
      parameters:
      - name: failureReport
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/FailureReportForView"
  /api/data_upgrade:
    get:
      tags:
      - health-check-controller
      operationId: dataUpgrade
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: object
  /api/conversation/{conversationId}:
    get:
      tags:
      - conversation-message-controller
      operationId: getConversation
      parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/Conversation"
  /api/conversation/{conversationId}/messages:
    get:
      tags:
      - conversation-message-controller
      operationId: getConversationMessages
      parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ConversationMessage"
  /api/conversation/{conversationId}/export:
    get:
      tags:
      - conversation-message-controller
      operationId: exportConversation
      parameters:
      - name: conversationId
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: object
  /api/conversation/all:
    get:
      tags:
      - conversation-message-controller
      operationId: getConversationsOfCurrentUser
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Conversation"
  /api/circles/{circle}:
    get:
      tags:
      - circle-controller
      operationId: showCircle
      parameters:
      - name: circle
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/CircleForUserView"
  /api/bazaar:
    get:
      tags:
      - bazaar-controller
      operationId: bazaar
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BazaarNotebook"
  /api/assimilation/assimilating:
    get:
      tags:
      - assimilation-controller
      operationId: assimilating
      parameters:
      - name: timezone
        in: query
        required: true
        schema:
          type: string
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Note"
  /api/assessment:
    get:
      tags:
      - assessment-controller
      operationId: getMyAssessments
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AssessmentAttempt"
  /api/ai/dummy:
    get:
      tags:
      - ai-controller
      operationId: dummyEntryToGenerateDataTypesThatAreRequiredInEventStream
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: "#/components/schemas/DummyForGeneratingTypes"
  /api/ai/available-gpt-models:
    get:
      tags:
      - ai-controller
      operationId: getAvailableGptModels
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  type: string
  /api/user/token/{tokenId}:
    delete:
      tags:
      - user-controller
      operationId: deleteToken
      parameters:
      - name: tokenId
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/memory-trackers/{memoryTracker}/recall-prompts/unanswered:
    delete:
      tags:
      - memory-tracker-controller
      operationId: deleteUnansweredRecallPrompts
      parameters:
      - name: memoryTracker
        in: path
        required: true
        schema:
          type: integer
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
  /api/failure-reports/delete:
    delete:
      tags:
      - failure-report-controller
      operationId: deleteFailureReports
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: integer
                format: int32
        required: true
      responses:
        "500":
          description: Internal Server Error
          content:
            '*/*':
              schema:
                type: string
        "200":
          description: OK
components:
  schemas:
    Circle:
      type: object
      properties:
        id:
          type: integer
          format: int32
        name:
          type: string
          maxLength: 255
          minLength: 1
      required:
      - id
      - name
    Ownership:
      type: object
      properties:
        id:
          type: integer
          format: int32
        circle:
          $ref: "#/components/schemas/Circle"
        ownerName:
          type: string
    User:
      type: object
      properties:
        id:
          type: integer
          format: int32
        name:
          type: string
        externalIdentifier:
          type: string
        ownership:
          $ref: "#/components/schemas/Ownership"
        dailyAssimilationCount:
          type: integer
          format: int32
        spaceIntervals:
          type: string
        admin:
          type: boolean
      required:
      - externalIdentifier
      - id
      - name
    TokenConfigDTO:
      type: object
      properties:
        label:
          type: string
          maxLength: 100
          minLength: 0
      required:
      - label
    UserToken:
      type: object
      properties:
        id:
          type: integer
          format: int32
        userId:
          type: integer
          format: int32
        token:
          type: string
        label:
          type: string
      required:
      - id
      - label
      - token
    TimeTravelRelativeToNow:
      type: object
      properties:
        hours:
          type: integer
          format: int32
    TimeTravel:
      type: object
      properties:
        travel_to:
          type: string
    Randomization:
      type: object
      properties:
        choose:
          type: string
          enum:
          - first
          - last
          - seed
        seed:
          type: integer
          format: int32
    MCQWithAnswer:
      type: object
      properties:
        f0__multipleChoicesQuestion:
          $ref: "#/components/schemas/MultipleChoicesQuestion"
        f1__correctChoiceIndex:
          type: integer
          format: int32
        f2__strictChoiceOrder:
          type: boolean
      required:
      - f0__multipleChoicesQuestion
      - f1__correctChoiceIndex
      - f2__strictChoiceOrder
    MultipleChoicesQuestion:
      type: object
      properties:
        f0__stem:
          type: string
        f1__choices:
          type: array
          items:
            type: string
      required:
      - f0__stem
      - f1__choices
    QuestionSuggestionParams:
      type: object
      properties:
        comment:
          type: string
        preservedQuestion:
          $ref: "#/components/schemas/MCQWithAnswer"
        preservedNoteContent:
          type: string
        positiveFeedback:
          type: boolean
        realCorrectAnswers:
          type: string
      required:
      - preservedQuestion
      - realCorrectAnswers
    SuggestedQuestionsData:
      type: object
      properties:
        examples:
          type: array
          items:
            $ref: "#/components/schemas/QuestionSuggestionParams"
          writeOnly: true
        username:
          type: string
          writeOnly: true
    NoteTestData:
      type: object
      properties:
        Title:
          type: string
        Details:
          type: string
        Parent Title:
          type: string
        Skip Memory Tracking:
          type: boolean
        Image Url:
          type: string
        Image Mask:
          type: string
        Wikidata Id:
          type: string
    NotesTestData:
      type: object
      properties:
        noteTestData:
          type: array
          items:
            $ref: "#/components/schemas/NoteTestData"
          writeOnly: true
        externalIdentifier:
          type: string
          writeOnly: true
        circleName:
          type: string
          writeOnly: true
    PredefinedQuestionTestData:
      type: object
      properties:
        Note Title:
          type: string
        Question:
          type: string
        Answer:
          type: string
        One Wrong Choice:
          type: string
        Approved:
          type: boolean
    PredefinedQuestionsTestData:
      type: object
      properties:
        notebookTitle:
          type: string
        notebookCertifiable:
          type: boolean
        predefinedQuestionTestData:
          type: array
          items:
            $ref: "#/components/schemas/PredefinedQuestionTestData"
    PredefinedQuestion:
      type: object
      properties:
        id:
          type: integer
          format: int32
        multipleChoicesQuestion:
          $ref: "#/components/schemas/MultipleChoicesQuestion"
        correctAnswerIndex:
          type: integer
          format: int32
        approved:
          type: boolean
      required:
      - id
      - multipleChoicesQuestion
    SubscriptionDTO:
      type: object
      properties:
        dailyTargetOfNewNotes:
          type: integer
          format: int32
    Note:
      type: object
      properties:
        noteTopology:
          $ref: "#/components/schemas/NoteTopology"
        details:
          type: string
        parentId:
          type: integer
          format: int32
        updatedAt:
          type: string
          format: date-time
        id:
          type: integer
          format: int32
        createdAt:
          type: string
          format: date-time
        deletedAt:
          type: string
          format: date-time
          readOnly: true
        wikidataId:
          type: string
      required:
      - createdAt
      - id
      - noteTopology
      - updatedAt
    NoteTopology:
      type: object
      properties:
        id:
          type: integer
          format: int32
        titleOrPredicate:
          type: string
        shortDetails:
          type: string
        relationType:
          type: string
          enum:
          - no link
          - related to
          - a specialization of
          - an application of
          - an instance of
          - a part of
          - tagged by
          - an attribute of
          - the opposite of
          - author of
          - using
          - an example of
          - before
          - similar to
          - confused with
        targetNoteTopology:
          $ref: "#/components/schemas/NoteTopology"
        parentOrSubjectNoteTopology:
          $ref: "#/components/schemas/NoteTopology"
      required:
      - id
      - titleOrPredicate
    Notebook:
      type: object
      properties:
        id:
          type: integer
          format: int32
        certifiable:
          type: boolean
        notebookSettings:
          $ref: "#/components/schemas/NotebookSettings"
        creatorId:
          type: string
        title:
          type: string
        circle:
          $ref: "#/components/schemas/Circle"
        headNoteId:
          type: integer
          format: int32
        shortDetails:
          type: string
        updated_at:
          type: string
          format: date-time
      required:
      - headNoteId
      - id
      - notebookSettings
      - title
      - updated_at
    NotebookSettings:
      type: object
      properties:
        skipMemoryTrackingEntirely:
          type: boolean
        numberOfQuestionsInAssessment:
          type: integer
          format: int32
        certificateExpiry:
          type: string
          default: 1y
          example: 1y 6m
    Subscription:
      type: object
      properties:
        headNote:
          $ref: "#/components/schemas/Note"
        title:
          type: string
        id:
          type: integer
          format: int32
        dailyTargetOfNewNotes:
          type: integer
          format: int32
        user:
          $ref: "#/components/schemas/User"
        notebook:
          $ref: "#/components/schemas/Notebook"
        fromDTO:
          $ref: "#/components/schemas/SubscriptionDTO"
          writeOnly: true
      required:
      - id
    GlobalAiModelSettings:
      type: object
      properties:
        questionGenerationModel:
          type: string
        evaluationModel:
          type: string
        othersModel:
          type: string
    RelationshipCreation:
      type: object
      properties:
        relationType:
          type: string
          enum:
          - no link
          - related to
          - a specialization of
          - an application of
          - an instance of
          - a part of
          - tagged by
          - an attribute of
          - the opposite of
          - author of
          - using
          - an example of
          - before
          - similar to
          - confused with
      required:
      - relationType
    NoteRealm:
      type: object
      properties:
        id:
          type: integer
          format: int32
        note:
          $ref: "#/components/schemas/Note"
        fromBazaar:
          type: boolean
        children:
          type: array
          items:
            $ref: "#/components/schemas/Note"
        inboundReferences:
          type: array
          items:
            $ref: "#/components/schemas/Note"
        notebook:
          $ref: "#/components/schemas/Notebook"
      required:
      - id
      - note
    NoteMoveDTO:
      type: object
      properties:
        asFirstChild:
          type: boolean
    QuestionContestResult:
      type: object
      properties:
        advice:
          type: string
        rejected:
          type: boolean
    Answer:
      type: object
      properties:
        id:
          type: integer
          format: int32
        choiceIndex:
          type: integer
          format: int32
        correct:
          type: boolean
        thinkingTimeMs:
          type: integer
          format: int32
        spellingAnswer:
          type: string
      required:
      - correct
      - id
    RecallPrompt:
      type: object
      properties:
        id:
          type: integer
          format: int32
        questionType:
          type: string
          enum:
          - MCQ
          - SPELLING
        multipleChoicesQuestion:
          $ref: "#/components/schemas/MultipleChoicesQuestion"
        notebook:
          $ref: "#/components/schemas/Notebook"
        note:
          $ref: "#/components/schemas/Note"
        questionGeneratedTime:
          type: string
          format: date-time
        isContested:
          type: boolean
        answerTime:
          type: string
          format: date-time
        predefinedQuestion:
          $ref: "#/components/schemas/PredefinedQuestion"
        answer:
          $ref: "#/components/schemas/Answer"
        spellingQuestion:
          $ref: "#/components/schemas/SpellingQuestion"
      required:
      - id
      - questionType
    SpellingQuestion:
      type: object
      properties:
        stem:
          type: string
        notebook:
          $ref: "#/components/schemas/Notebook"
    AnswerDTO:
      type: object
      properties:
        choiceIndex:
          type: integer
          format: int32
        thinkingTimeMs:
          type: integer
          format: int32
    AnsweredQuestion:
      type: object
      properties:
        note:
          $ref: "#/components/schemas/Note"
        predefinedQuestion:
          $ref: "#/components/schemas/PredefinedQuestion"
        answer:
          $ref: "#/components/schemas/Answer"
        answerDisplay:
          type: string
        recallPromptId:
          type: integer
          format: int32
        memoryTrackerId:
          type: integer
          format: int32
      required:
      - answer
      - predefinedQuestion
      - recallPromptId
    QuestionResult:
      allOf:
      - $ref: "#/components/schemas/RecallResult"
      - type: object
        properties:
          answeredQuestion:
            $ref: "#/components/schemas/AnsweredQuestion"
    RecallResult:
      type: object
      discriminator:
        propertyName: type
      properties:
        type:
          type: string
      required:
      - type
    SpellingResult:
      allOf:
      - $ref: "#/components/schemas/RecallResult"
      - type: object
        properties:
          note:
            $ref: "#/components/schemas/Note"
          answer:
            type: string
          isCorrect:
            type: boolean
          memoryTrackerId:
            type: integer
            format: int32
    AnswerSpellingDTO:
      type: object
      properties:
        spellingAnswer:
          type: string
        thinkingTimeMs:
          type: integer
          format: int32
    QuestionSuggestionCreationParams:
      type: object
      properties:
        comment:
          type: string
        isPositiveFeedback:
          type: boolean
    SuggestedQuestionForFineTuning:
      type: object
      properties:
        id:
          type: integer
          format: int32
        comment:
          type: string
        preservedQuestion:
          $ref: "#/components/schemas/MCQWithAnswer"
        preservedNoteContent:
          type: string
        realCorrectAnswers:
          type: string
        createdAt:
          type: string
          format: date-time
        positiveFeedback:
          type: boolean
      required:
      - id
      - preservedQuestion
    NoteCreationDTO:
      type: object
      properties:
        newTitle:
          type: string
          maxLength: 150
          minLength: 1
        wikidataId:
          type: string
          pattern: ^$|Q\d+
      required:
      - newTitle
    NoteCreationResult:
      type: object
      properties:
        created:
          $ref: "#/components/schemas/NoteRealm"
        parent:
          $ref: "#/components/schemas/NoteRealm"
      required:
      - created
      - parent
    WikidataAssociationCreation:
      type: object
      properties:
        wikidataId:
          type: string
      required:
      - wikidataId
    SearchTerm:
      type: object
      properties:
        searchKey:
          type: string
        allMyNotebooksAndSubscriptions:
          type: boolean
        allMyCircles:
          type: boolean
      required:
      - searchKey
    NoteSearchResult:
      type: object
      properties:
        noteTopology:
          $ref: "#/components/schemas/NoteTopology"
        notebookId:
          type: integer
          format: int32
        distance:
          type: number
          format: float
      required:
      - noteTopology
      - notebookId
    NoteRecallSetting:
      type: object
      properties:
        rememberSpelling:
          type: boolean
        skipMemoryTracking:
          type: boolean
        level:
          type: integer
          format: int32
    RedirectToNoteResponse:
      type: object
      properties:
        noteId:
          type: integer
          format: int32
    NotebookCertificateApproval:
      type: object
      properties:
        id:
          type: integer
          format: int32
        notebook:
          $ref: "#/components/schemas/Notebook"
        lastApprovalTime:
          type: string
          format: date-time
      required:
      - id
      - notebook
    MemoryTracker:
      type: object
      properties:
        id:
          type: integer
          format: int32
        note:
          $ref: "#/components/schemas/Note"
        lastRecalledAt:
          type: string
          format: date-time
        nextRecallAt:
          type: string
          format: date-time
        assimilatedAt:
          type: string
          format: date-time
        repetitionCount:
          type: integer
          format: int32
        forgettingCurveIndex:
          type: integer
          format: int32
        removedFromTracking:
          type: boolean
        spelling:
          type: boolean
      required:
      - id
      - nextRecallAt
      - note
    McpNoteAddDTO:
      type: object
      properties:
        parentNote:
          type: string
        noteCreationDTO:
          $ref: "#/components/schemas/NoteCreationDTO"
    ConversationMessage:
      type: object
      properties:
        id:
          type: integer
          format: int32
        message:
          type: string
        sender:
          $ref: "#/components/schemas/User"
        readByReceiver:
          type: boolean
        createdAt:
          type: string
          format: date-time
      required:
      - id
      - message
    SseEmitter:
      type: object
      properties:
        timeout:
          type: integer
          format: int64
    AssessmentQuestionInstance:
      type: object
      properties:
        id:
          type: integer
          format: int32
        multipleChoicesQuestion:
          $ref: "#/components/schemas/MultipleChoicesQuestion"
        answer:
          $ref: "#/components/schemas/Answer"
      required:
      - id
    Conversation:
      type: object
      properties:
        id:
          type: integer
          format: int32
        subject:
          $ref: "#/components/schemas/ConversationSubject"
        subjectOwnership:
          $ref: "#/components/schemas/Ownership"
        conversationInitiator:
          $ref: "#/components/schemas/User"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
      - createdAt
      - id
      - updatedAt
    ConversationSubject:
      type: object
      properties:
        assessmentQuestionInstance:
          $ref: "#/components/schemas/AssessmentQuestionInstance"
        note:
          $ref: "#/components/schemas/Note"
        answeredQuestion:
          $ref: "#/components/schemas/AnsweredQuestion"
    CircleJoiningByInvitation:
      type: object
      properties:
        invitationCode:
          type: string
          maxLength: 20
          minLength: 10
      required:
      - invitationCode
    Certificate:
      type: object
      properties:
        id:
          type: integer
          format: int32
        user:
          $ref: "#/components/schemas/User"
        notebook:
          $ref: "#/components/schemas/Notebook"
        startDate:
          type: string
          format: date-time
        expiryDate:
          type: string
          format: date-time
        creatorName:
          type: string
      required:
      - expiryDate
      - id
      - startDate
    BazaarNotebook:
      type: object
      properties:
        id:
          type: integer
          format: int32
        notebook:
          $ref: "#/components/schemas/Notebook"
      required:
      - id
      - notebook
    AudioUploadDTO:
      type: object
      properties:
        uploadAudioFile:
          type: string
          format: binary
        additionalProcessingInstructions:
          type: string
        previousNoteDetailsToAppendTo:
          type: string
        midSpeech:
          type: boolean
        isMidSpeech:
          type: boolean
    NoteDetailsCompletion:
      type: object
      properties:
        details:
          type: string
      required:
      - details
    TextFromAudioWithCallInfo:
      type: object
      properties:
        completionFromAudio:
          $ref: "#/components/schemas/NoteDetailsCompletion"
        rawSRT:
          type: string
        endTimestamp:
          type: string
    InitialInfo:
      type: object
      properties:
        noteId:
          type: integer
          format: int32
        skipMemoryTracking:
          type: boolean
    AssessmentAttempt:
      type: object
      properties:
        id:
          type: integer
          format: int32
        totalQuestionCount:
          type: integer
          format: int32
        answersCorrect:
          type: integer
          format: int32
        notebookId:
          type: integer
          format: int32
        notebookTitle:
          type: string
        submittedAt:
          type: string
          format: date-time
        isPass:
          type: boolean
        assessmentQuestionInstances:
          type: array
          items:
            $ref: "#/components/schemas/AssessmentQuestionInstance"
        certifiable:
          type: boolean
      required:
      - id
      - notebookId
    SuggestedTitleDTO:
      type: object
      properties:
        title:
          type: string
    NoteSummaryDTO:
      type: object
      properties:
        points:
          type: array
          items:
            type: string
    AiGeneratedImage:
      type: object
      properties:
        b64encoded:
          type: string
    UserDTO:
      type: object
      properties:
        name:
          type: string
          maxLength: 100
          minLength: 1
        dailyAssimilationCount:
          type: integer
          format: int32
        spaceIntervals:
          type: string
          pattern: "^\\d+((,\\s*\\d+){1,1000})*$"
      required:
      - name
    NoteUpdateTitleDTO:
      type: object
      properties:
        newTitle:
          type: string
          maxLength: 150
          minLength: 1
      required:
      - newTitle
    NoteUpdateDetailsDTO:
      type: object
      properties:
        details:
          type: string
    NoteAccessoriesDTO:
      type: object
      properties:
        url:
          type: string
        imageUrl:
          type: string
        imageMask:
          type: string
          pattern: "^(((-?[0-9.]+\\s+){3}-?[0-9.]+\\s+)*((-?[0-9.]+\\s+){3}-?[0-9.]+))?$"
        useParentImage:
          type: boolean
        uploadImage:
          type: string
          format: binary
    ImageWithMask:
      type: object
      properties:
        noteImage:
          type: string
        imageMask:
          type: string
    NoteAccessory:
      type: object
      properties:
        id:
          type: integer
          format: int32
        url:
          type: string
        imageUrl:
          type: string
        imageMask:
          type: string
        useParentImage:
          type: boolean
        imageWithMask:
          $ref: "#/components/schemas/ImageWithMask"
      required:
      - id
    UpdateAiAssistantRequest:
      type: object
      properties:
        additionalInstructions:
          type: string
    NotebookAiAssistant:
      type: object
      properties:
        id:
          type: integer
          format: int32
        notebook:
          $ref: "#/components/schemas/Notebook"
        additionalInstructionsToAi:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
      required:
      - id
    WikidataSearchEntity:
      type: object
      properties:
        id:
          type: string
        label:
          type: string
        description:
          type: string
      required:
      - label
    WikidataEntityData:
      type: object
      properties:
        WikidataTitleInEnglish:
          type: string
        WikipediaEnglishUrl:
          type: string
      required:
      - WikidataTitleInEnglish
      - WikipediaEnglishUrl
    AssimilationCountDTO:
      type: object
      properties:
        dueCount:
          type: integer
          format: int32
        assimilatedCountOfTheDay:
          type: integer
          format: int32
        totalUnassimilatedCount:
          type: integer
          format: int32
    DueMemoryTrackers:
      type: object
      properties:
        totalAssimilatedCount:
          type: integer
          format: int32
        currentRecallWindowEndAt:
          type: string
          format: date-time
        toRepeat:
          type: array
          items:
            $ref: "#/components/schemas/MemoryTrackerLite"
        dueInDays:
          type: integer
          format: int32
      required:
      - totalAssimilatedCount
    MemoryTrackerLite:
      type: object
      properties:
        memoryTrackerId:
          type: integer
          format: int32
        spelling:
          type: boolean
    MenuDataDTO:
      type: object
      properties:
        assimilationCount:
          $ref: "#/components/schemas/AssimilationCountDTO"
        recallStatus:
          $ref: "#/components/schemas/DueMemoryTrackers"
        unreadConversations:
          type: array
          items:
            $ref: "#/components/schemas/ConversationMessage"
    CurrentUserInfo:
      type: object
      properties:
        user:
          $ref: "#/components/schemas/User"
        externalIdentifier:
          type: string
    NoteInfo:
      type: object
      properties:
        memoryTrackers:
          type: array
          items:
            $ref: "#/components/schemas/MemoryTracker"
        note:
          $ref: "#/components/schemas/NoteRealm"
        createdAt:
          type: string
          format: date-time
        recallSetting:
          $ref: "#/components/schemas/NoteRecallSetting"
        noteType:
          type: string
          enum:
          - concept
          - category
          - vocab
          - journal
          - unassigned
      required:
      - createdAt
      - note
    BareNote:
      type: object
      properties:
        uri:
          type: string
        subjectUriAndTitle:
          $ref: "#/components/schemas/UriAndTitle"
        predicate:
          type: string
        title:
          type: string
        targetUriAndTitle:
          $ref: "#/components/schemas/UriAndTitle"
        parentUriAndTitle:
          $ref: "#/components/schemas/UriAndTitle"
        relationToFocusNote:
          type: string
          enum:
          - Self
          - Parent
          - Child
          - OlderSibling
          - YoungerSibling
          - RelationshipTarget
          - Relationship
          - SiblingOfTarget
          - ReferenceBy
          - ReferencingNote
          - ContextAncestor
          - TargetContextAncestor
          - ReferenceContextAncestor
          - TargetOfRelationship
          - RelationshipOfTargetSibling
          - ReferencedTargetOfRelationship
          - ParentSibling
          - TargetParentSibling
          - ParentSiblingChild
          - TargetParentSiblingChild
          - SiblingOfReferencingNote
          - RemotelyRelated
        details:
          type: string
        detailsTruncated:
          type: boolean
        createdAt:
          type: string
          format: date-time
    FocusNote:
      type: object
      properties:
        uri:
          type: string
        subjectUriAndTitle:
          $ref: "#/components/schemas/UriAndTitle"
        predicate:
          type: string
        title:
          type: string
        targetUriAndTitle:
          $ref: "#/components/schemas/UriAndTitle"
        parentUriAndTitle:
          $ref: "#/components/schemas/UriAndTitle"
        relationToFocusNote:
          type: string
          enum:
          - Self
          - Parent
          - Child
          - OlderSibling
          - YoungerSibling
          - RelationshipTarget
          - Relationship
          - SiblingOfTarget
          - ReferenceBy
          - ReferencingNote
          - ContextAncestor
          - TargetContextAncestor
          - ReferenceContextAncestor
          - TargetOfRelationship
          - RelationshipOfTargetSibling
          - ReferencedTargetOfRelationship
          - ParentSibling
          - TargetParentSibling
          - ParentSiblingChild
          - TargetParentSiblingChild
          - SiblingOfReferencingNote
          - RemotelyRelated
        details:
          type: string
        detailsTruncated:
          type: boolean
        createdAt:
          type: string
          format: date-time
        contextualPath:
          type: array
          items:
            type: string
        children:
          type: array
          items:
            type: string
        olderSiblings:
          type: array
          items:
            type: string
        youngerSiblings:
          type: array
          items:
            type: string
        inboundReferences:
          type: array
          items:
            type: string
    GraphRAGResult:
      type: object
      properties:
        focusNote:
          $ref: "#/components/schemas/FocusNote"
        relatedNotes:
          type: array
          items:
            $ref: "#/components/schemas/BareNote"
    UriAndTitle:
      type: object
      properties:
        uri:
          type: string
        title:
          type: string
    NotebooksViewedByUser:
      type: object
      properties:
        notebooks:
          type: array
          items:
            $ref: "#/components/schemas/Notebook"
        subscriptions:
          type: array
          items:
            $ref: "#/components/schemas/Subscription"
      required:
      - notebooks
    NotebookCertificateApprovalDTO:
      type: object
      properties:
        approval:
          $ref: "#/components/schemas/NotebookCertificateApproval"
    FailureReport:
      type: object
      properties:
        id:
          type: integer
          format: int32
        errorName:
          type: string
        errorDetail:
          type: string
        issueNumber:
          type: integer
          format: int32
        createDatetime:
          type: string
          format: date-time
        githubIssue:
          $ref: "#/components/schemas/GithubIssue"
      required:
      - createDatetime
      - errorDetail
      - errorName
    FailureReportForView:
      type: object
      properties:
        failureReport:
          $ref: "#/components/schemas/FailureReport"
        githubIssueUrl:
          type: string
    GithubIssue:
      type: object
      properties:
        title:
          type: string
        body:
          type: string
    CircleForUserView:
      type: object
      properties:
        id:
          type: integer
          format: int32
        name:
          type: string
        invitationCode:
          type: string
        notebooks:
          $ref: "#/components/schemas/NotebooksViewedByUser"
        members:
          type: array
          items:
            $ref: "#/components/schemas/UserForOtherUserView"
      required:
      - id
      - invitationCode
      - members
      - name
      - notebooks
    UserForOtherUserView:
      type: object
      properties:
        name:
          type: string
    DummyForGeneratingTypes:
      type: object
      properties:
        noteDetailsCompletion:
          $ref: "#/components/schemas/NoteDetailsCompletion"
        titleReplacement:
          $ref: "#/components/schemas/TitleReplacement"
    TitleReplacement:
      type: object
      properties:
        newTitle:
          type: string
          maxLength: 150
          minLength: 1
      required:
      - newTitle
